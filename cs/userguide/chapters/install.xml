<?xml version="1.0" encoding="ISO-8859-2" ?>
<chapter id="installation">
 <title>Instalace</title>
 <sect1 id="install.get">
  <title>Kde získat nejnovìj¹í verzi</title>
  <para>
   Zdrojové kódy a binární soubory PHP-GTK &version.phpgtk; pro Windows
   naleznete na adrese <ulink url="&url.phpgtk;">&url.phpgtk;</ulink>.
   U¾ivatelé, kteøí chtìjí instalovat ze zdrojových kódù, také potøebují
   získat nejnovìj¹í verzi PHP
   z CVS <ulink url="&url.php.anoncvs;">&url.php.anoncvs;</ulink>.
  </para>
 </sect1>

 <sect1 id="install.win32">
  <title>Instalace PHP-GTK pod Windows</title>

  <sect2 id="install.win32.binaries">
   <title>Sta¾ení PHP-GTK</title>
   <para>
    Binární soubory PHP-GTK &version.phpgtk; pro win32 si stáhnìte z
    <ulink url="&url.phpgtk;">&url.phpgtk;</ulink>. Mo¾ná se budete chtít
    podívat i na nejnovìj¹í zdrojové kódy z CVS serveru php.net.
    Na <ulink url="&url.php.anoncvs;">&url.php.anoncvs;</ulink>
    najdete podrobnìj¹í informace.
   </para>
  </sect2>
  <sect2 id="install.win32.binary.package-layout">
   <title>Struktura distribuce</title>
   <para>
    Distribuce binárních souborù PHP-GTK má následující strukturu:
    <itemizedlist>
     <listitem>
      <para>
       <filename>\php4</filename> -&gt; PHP &version.php; a PHP-GTK
       &version.phpgtk;  binární soubory
      </para>
     </listitem>
     <listitem>
      <simpara>
       <filename>\winnt</filename> -&gt; standardní soubor php.ini
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <filename>\winnt\system32</filename> -&gt; knihovny GTK+ 
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <filename>\test</filename> -&gt; nìkolik pøíkladù pou¾ití PHP-GTK
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <filename>README.TXT</filename>
      </simpara>
     </listitem>
    </itemizedlist>
   </para>
  </sect2>
  <sect2 id="install.win32.howto">
   <title>Jak nainstalovat</title>
   <orderedlist>
    <listitem>
     <simpara>
      Nakopírujte <filename>\php4</filename> do existujícího adresáøe php.
      Pokud je toto nová instalace mìli byste vytvoøit adresáø
      <filename>c:\php4</filename> a zkopírovat soubory do nìj.
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      Zkopírujte <filename>\winnt</filename> do adresáøe windows. Na
      Windows NT a 2000 je to adresáø <filename>c:\winnt</filename>. Na 
      Windows 95/98 je to <filename>c:\windows</filename>. Pokud ji¾ máte
      <filename>php.ini</filename>, nemusíte tento soubor kopírovat.
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      Zkopírujte <filename>\winnt\system32</filename> do adresáøe system32.
      Na Windows NT a 2000 je to adresáø
      <filename>c:\winnt\system32</filename>. Na Windows 95/98 je to
      <filename>c:\windows\system32</filename>.
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      Zkopírujte <filename>\test</filename> do adresáøe, odkud chcete
      spou¹tìt skripty (napø. <filename>c:\php4\test</filename>).
     </simpara>
    </listitem>
   </orderedlist>
  </sect2>
  <sect2 id="install.win32.usage">
   <title>Jak pou¾ívat PHP-GTK</title>
   <simpara>
    PHP-GTK aplikace spustíte z pøíkazové øádky (nebo pomocí zástupce)
    tímto pøíkazem:
    <command>c:\php4\php -q c:\cesta\k\php-gtk\skript.php</command>
   </simpara>
  </sect2>
 </sect1>

 <sect1 id="install.unix">
  <title>Instalace PHP-GTK pod Unixem</title>
  <para>
   U¾ivatelé Debianu si mohou stáhnout binární soubory PHP-GTK z
   <ulink url="&url.debian;">&url.debian;</ulink>.
  </para>
  <para>
   PHP-GTK závisí na nìkolika balících, které musíte nainstalovat pøed
   instalací PHP-GTK:
   <itemizedlist>
    <listitem>
     <para>
      PHP verze &version.php; èi novìj¹í
     </para>
    </listitem>
    <listitem>
     <para>
      Knihovny GTK+ dostupné na
      <ulink url="&url.gtk.download;">&url.gtk.download;</ulink>, nebo
      mù¾ete pou¾ít balíèky pro vá¹ systém, napø. <literal>gtk</literal>
      a <literal>gtk-devel</literal>
     </para>
    </listitem>
    <listitem>
     <simpara>
      libtool, automake a autoconf. Urèitì funguje kombinace libtool 1.4.2,
      automake 1.4 a autoconf 2.13; pøi jiných kombinacích verzí mohou být
      výsledky rùzné.
     </simpara>
    </listitem>
    <listitem>
     <para>
      Chcete-li nìco navíc, stáhnìte si
      <ulink url="&url.gtkhtml;">knihovny GtkHTML</ulink>,
      <ulink url="&url.scintilla;">knihovny GtkScintilla</ulink> a
      <ulink url="&url.pixbuf;">knihovny Gdk-Pixbuf</ulink>. I tyto knihovny
      mohou být dostupné jako balíèky pro vá¹ systém, ale nezapomeòte
      nainstalovat také vývojové balíèky. GtkHTML má mnoho závislostí, napø.
      <literal>GAL</literal>, které získáte z
      <ulink url="&url.gnome.ftp;">Gnome ftp site</ulink>.
     </para>
    </listitem>
   </itemizedlist>
  </para>
  <para>
   Doporuèujeme stáhnout nejnovìj¹í zdrojové kódy z
   <ulink url="&url.phpgtk;">&url.phpgtk;</ulink> nebo z anonymního CVS
   <ulink url="&url.php.anoncvs;">&url.php.anoncvs;</ulink>.
  </para>
  <para>
   Spus»te skript <command>./buildconf</command>, který najdete v
   distribuci. Ten nastaví potøebné soubory a vytvoøí skript
   <literal>configure</literal>. Následnì spus»te
   <command>./configure</command>. Skript zkontroluje, zda máte správnou
   verzi GTK+ 1.2.x (1.2.6 nebo novìj¹í, lze stáhnout z   
   <ulink url="&url.gtk;">&url.gtk;</ulink>) a dal¹í soubory potøebné pro
   kompilaci, a vytvoøí potøebné Makefile.
  </para>
  <simpara>
   <command>./configure</command> lze také pou¾ít ke kompilace widgetù
   navíc, napø. 
   <command>./configure --enable-scintilla --enable-gtkhtml</command>.
   Výpis v¹ech mo¾ných voleb získáte pøíkazem
   <command>./configure --help</command>. Nezapomeòte, ¾e widgety navíc
   mohou záviset na dal¹ích balíècích.
  </simpara>
  <simpara>
   Nakonec spus»te <command>make</command>, kterým modul zkompilujete.
   Nìkteré èásti zdrojového kódu se generují z .defs souborù. Pokud uvidíte
   zprávy typu <literal>&quot;Could not write...&quot; (Nelze
   zapsat...)</literal>, znamená to,
   ¾e vypsané objekty èi vlastnosti GTK+ je¹tì nejsou podporovány. Je-li
   kompilace úspì¹ná, spus»te <command>make install</command>, kterým
   nainstalujete PHP-GTK do standardního adresáøe pro roz¹íøení PHP (obvykle
   <filename>/usr/local/lib/php/extensions</filename>).
  </simpara>
  <para>
   Poradce pøi potí¾ích: obvyklé problémy pøi <command>./configure</command>
   nebo <command>make</command>
   <itemizedlist>
    <listitem>
     <simpara>
      <literal>./ltconfig: ltconfig : No such file or directory, configure:
      error: libtool configure failed</literal> je zpùsobeno tím, ¾e nemáte
      nainstalován libtool, automake nebo autoconf.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>./aclocal.m4:813: error: m4_defn: undefined:
     _m4_divert_diversion</literal> je zpùsobeno nekompatibilní verzí
     autoconf, podívejte se na doporuèené verze vý¹e.
    </simpara>
   </listitem>
   <listitem>
    <para>
     <literal>php_gtk+.c:33: parse error before 'SRMLS_DC'</literal>
     je zpùsobeno buï starou verzí PHP - prosím, upgradujte na PHP verze
     &version.php;.
    </para>
   </listitem>
   <listitem>
    <simpara>
     <literal>gen_gtk.c:1: parse error before '&lt;'</literal> je zpùsobeno
     chybou generátoru. Tuto chybu obvykle odstraníte pøidáním øádku
     <literal>ini_set(&quot;memory_limit&quot;, &quot;32M&quot;);</literal>
     na první øádek souboru
     <filename>generator/generator.php</filename>. Po této zmìnì musíte
     odstranit v¹echny soubory <filename>gen_*</filename> ze v¹ech adresáøù.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>checking for gnome-config... Unknown library 'gtkhtml'</literal>
     (v <command>./configure</command>) je zpùsobeno tím, ¾e hlavièkový
     soubor je starý nebo neexistuje - pokud jste instalovali z rpm nebo
     podobného balíèkového systému, nainstalujte si také balíèky
     <literal>-devel</literal>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>Unable to find -lgal</literal> nebo podobná zpráva je
     zpùsobena neexistencí <literal>gal-devel</literal> nebo podobné
     knihovny. Obvykle jde o závislost nìkterého slo¾itìj¹ího widgetu, napø.
     ghtkhtml.
    </simpara>
   </listitem>
  </itemizedlist>
  </para>
  <simpara>
   K ovìøení PHP-GTK zkuste spustit ukázkové skripty z adresáøe
   <filename>test/</filename>. V nich také uvidíte, jak lze PHP-GTK vyu¾ít.
  </simpara>
 </sect1>
</chapter>
