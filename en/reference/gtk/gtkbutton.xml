<?xml version="1.0" encoding="ISO-8859-1" ?>
<classentry id="gtk.gtkbutton">
 <classmeta>
  <classtitle>GtkButton</classtitle>
  <classparent>GtkBin</classparent>
  <shortdesc>
   A container widget that emits a signal when clicked on.
  </shortdesc>
  <desc>
   <simpara>
    The <classname>GtkButton</classname> widget is a container widget
    that can hold any valid child widget derived from 
    <classname>GtkWidget</classname>. The most commonly used child
    widget is a <classname>GtkLabel</classname>.  This is therefore built
    into the <link linkend="gtk.gtkbutton.constructor">constructor</link> 
    as an optional parameter.
   </simpara>
   <simpara>
    The <classname>GtkButton</classname> widget is mainly used to call
    some function when the button is pressed.
   </simpara>
   <para>
    To change the label after the button is created, you can use the 
    <link linkend="gtk.gtkcontainer.method.children">children()</link> function
    of the container class:
    <programlisting role="php">
<![CDATA[
//$obj is the button object
$childs = $obj->children();
$childs[0]->set_text('new button title');
]]>
    </programlisting>
   </para>
  </desc>
 </classmeta>

 <constructor id="gtk.gtkbutton.constructor">
  <funcsynopsis>
   <funcprototype>
    <funcdef> <function>GtkButton</function></funcdef>
    <paramdef>string 
     <parameter><optional>label</optional></parameter>
    </paramdef>
   </funcprototype>
  </funcsynopsis>
  <shortdesc>
   Creates a button.
  </shortdesc>
  <desc>
   <simpara>
    This function creates and returns a <classname>GtkButton</classname>
    widget.  If the optional <parameter>label</parameter> is passed, the
    button will contain a <classname>GtkLabel</classname> widget with the
    given text.  If the parameter is left empty, there will be no child
    widget.
   </simpara>
   <para>
    Note that, as <classname>GtkButton</classname> is descended from
    <classname>GtkBin</classname>, it may contain only one child.
    <example>
     <title>Adding more than one widget to a 
<classname>GtkButton</classname></title>
      <programlisting role="php">
<![CDATA[
<?php

dl('php_gtk.' . (strstr(PHP_OS, 'WIN') ? 'dll' : 'so'));

$window = &new GtkWindow(GTK_WINDOW_DIALOG);
$window->set_position(GTK_WIN_POS_MOUSE);
$window->connect_object('destroy', array('gtk', 'main_quit'));
$window->realize();

list ($gdkpixmap, $mask) = gdk::pixmap_create_from_xpm($window->window, 
null, "test.xpm");
$pixmap = &new GtkPixmap($gdkpixmap, $mask);

$label = &new GtkLabel("Open");

$vbox = &new GtkVBox();
$vbox->pack_start($pixmap);
$vbox->pack_start($label);

$button = &new GtkButton();
$button->add($vbox);
$vbox->show_all();

$window->add($button);
$window->show_all();

gtk::main();

?>
]]>
      </programlisting>
     </example>
    </para>
  </desc>
 </constructor>

 <methods>

  <method id="gtk.gtkbutton.method.pressed">
   <funcsynopsis>
    <funcprototype>
     <funcdef>void <function>pressed</function></funcdef>
     <paramdef>void</paramdef>
    </funcprototype>
   </funcsynopsis>
   <shortdesc>
    Emits <signalname class="GtkButton">pressed</signalname> signal.
   </shortdesc>
   <desc>
    <simpara>
     Makes the button emit the 
     <signalname class="GtkButton">pressed</signalname> signal.
    </simpara>
   </desc>
  </method>

  <method id="gtk.gtkbutton.method.released">
   <funcsynopsis>
    <funcprototype>
     <funcdef>void <function>released</function></funcdef>
     <paramdef>void</paramdef>
    </funcprototype>
   </funcsynopsis>
   <shortdesc>
    Emits <signalname class="GtkButton">released</signalname> signal.
   </shortdesc>
   <desc>
    <simpara>
     Makes the button emit the 
     <signalname class="GtkButton">released</signalname> signal.
    </simpara>
   </desc>
  </method>

  <method id="gtk.gtkbutton.method.clicked">
   <funcsynopsis>
    <funcprototype>
     <funcdef>void <function>clicked</function></funcdef>
     <paramdef>void</paramdef>
    </funcprototype>
   </funcsynopsis>
   <shortdesc>
    Emits <signalname class="GtkButton">clicked</signalname> signal.
   </shortdesc>
   <desc>
    <simpara>
     Makes the button emit the 
     <signalname class="GtkButton">clicked</signalname> signal.
    </simpara>
   </desc>
  </method>

  <method id="gtk.gtkbutton.method.enter">
   <funcsynopsis>
    <funcprototype>
     <funcdef>void <function>enter</function></funcdef>
     <paramdef>void</paramdef>
    </funcprototype>
   </funcsynopsis>
   <shortdesc>
    Emits <signalname class="GtkButton">enter</signalname> signal.
   </shortdesc>
   <desc>
    <simpara>
     Makes the button emit the 
     <signalname class="GtkButton">enter</signalname> signal.
    </simpara>
   </desc>
  </method>

  <method id="gtk.gtkbutton.method.leave">
   <funcsynopsis>
    <funcprototype>
     <funcdef>void <function>leave</function></funcdef>
     <paramdef>void</paramdef>
    </funcprototype>
   </funcsynopsis>
   <shortdesc>
    Emits <signalname class="GtkButton">leave</signalname> signal.
   </shortdesc>
   <desc>
    <simpara>
     Makes the button emit the 
     <signalname class="GtkButton">leave</signalname> signal.
    </simpara>
   </desc>
  </method>

  <method id="gtk.gtkbutton.method.set_relief">
   <funcsynopsis>
    <funcprototype>
     <funcdef>void <function>set_relief</function></funcdef>
     <paramdef>
      <enumname>GtkReliefStyle</enumname> 
      <parameter>newstyle</parameter>
     </paramdef>
    </funcprototype>
   </funcsynopsis>
   <shortdesc>
    Sets the button relief style.
   </shortdesc>
   <desc>
    <simpara>
     Sets the relief style of the button widget edges using one of the
     three <enumname>GtkReliefStyle</enumname> settings.  The default
     relief style is <literal>GTK_RELIEF_NORMAL</literal>.
    </simpara>
   </desc>
  </method>

  <method id="gtk.gtkbutton.method.get_relief">
   <funcsynopsis>
    <funcprototype>
     <funcdef>
      <enumname>GtkReliefStyle</enumname> 
      <function>get_relief</function>
     </funcdef>
     <paramdef>void</paramdef>
    </funcprototype>
   </funcsynopsis>
   <shortdesc>
    Gets the button relief style.
   </shortdesc>
   <desc>
    <simpara>
     Returns the current <enumname>GtkReliefStyle</enumname> setting for
     the button.
    </simpara>
   </desc>
  </method>

 </methods>

 <signals>

  <signal id="gtk.gtkbutton.signal.enter">
   <signalname>enter</signalname>
   <funcsynopsis>
    <funcprototype>
     <funcdef>void <cbfunction>callback</cbfunction></funcdef>
     <paramdef><classname>GtkButton</classname> button</paramdef>
    </funcprototype>
   </funcsynopsis>
   <shortdesc>
    Emitted when the cursor is over the button.
   </shortdesc>
   <desc>
    <simpara>
     The <signalname class="GtkButton">enter</signalname> signal is emitted
     when the cursor enters the area of the screen where the button is
     positioned.
    </simpara>
   </desc>
  </signal>

  <signal id="gtk.gtkbutton.signal.pressed">
   <signalname>pressed</signalname>
   <funcsynopsis>
    <funcprototype>
     <funcdef>void <cbfunction>callback</cbfunction></funcdef>
     <paramdef><classname>GtkButton</classname> button</paramdef>
    </funcprototype>
   </funcsynopsis>
   <shortdesc>
    Emitted when the button is initially pressed.
   </shortdesc>
   <desc>
    <simpara>
     The <signalname>pressed</signalname> signal is emitted when the user
     presses down the mouse-button and the cursor is over the widget.
    </simpara>
   </desc>
  </signal>

  <signal id="gtk.gtkbutton.signal.clicked">
   <signalname>clicked</signalname>
   <funcsynopsis>
    <funcprototype>
     <funcdef>void <cbfunction>callback</cbfunction></funcdef>
     <paramdef><classname>GtkButton</classname> button</paramdef>
    </funcprototype>
   </funcsynopsis>
   <shortdesc>
    Emitted when the button is clicked.
   </shortdesc>
   <desc>
    <simpara>
     The <signalname class="GtkButton">clicked</signalname> signal is
     emitted at the midpoint between pressing and releasing the
     mouse-button.  This is the most commonly used 
     <classname>GtkButton</classname> signal, and holds an advantage over
     the other signals listed here in that it also responds to 
     <literal>enter</literal> or <literal>spacebar</literal> keypresses as
     though they were mouse-clicks.  Signals that have this property are
     wrappers for an internal <classname>GtkWidget</classname> signal
     named 'activate_signal'; all interactive widgets contain one such
     method/signal pair, with appropriate keyboard bindings.
    </simpara>
    <simpara>
     Note that the <signalname class="GtkButton">clicked</signalname> 
     signal will not fire when the mouse-button is released after the cursor
     has left the widget's region.  The <literal>activate</literal> type of
     signals are by nature region-specific.
    </simpara>
    <para>
     Use one of the <function class="GtkObject">connect</function> 
     methods in order to emit the signal and connect it to your function. 
     The connected function is known as the <literal>callback</literal> or 
     <literal>signal-handler</literal> function:
     <example>
      <title>Making a simple connection</title>
      <programlisting role="php">
<![CDATA[
<?php

dl('php_gtk.' . (strstr(PHP_OS, 'WIN') ? 'dll' : 'so'));

function my_function() {
  echo "The button was clicked\n";
}

$window = &new GtkWindow();
$window->set_position(GTK_WIN_POS_MOUSE);
$window->connect_object('destroy', array('gtk', 'main_quit'));

$button = &new GtkButton("Click Me");
$button->connect('clicked', 'my_function');
$window->add($button);

$window->show_all();

gtk::main();

?>
]]>
      </programlisting>
     </example>
     For further information about connecting signals, refer to the 
     <link linkend="signals.whatare">Signals and Callbacks</link> 
     chapter in the <link linkend="userguide">PHP-GTK Userguide</link>.
    </para>
   </desc>
  </signal>

  <signal id="gtk.gtkbutton.signal.released">
   <signalname>released</signalname>
   <funcsynopsis>
    <funcprototype>
     <funcdef>void <cbfunction>callback</cbfunction></funcdef>
     <paramdef><classname>GtkButton</classname> button</paramdef>
    </funcprototype>
   </funcsynopsis>
   <shortdesc>
    Emitted when the button is released.
   </shortdesc>
   <desc>
    <simpara>
     The <signalname class="GtkButton">released</signalname> signal is
     emitted when the user releases the mouse-button, regardless of
     the cursor position.
    </simpara>
   </desc>
  </signal>

  <signal id="gtk.gtkbutton.signal.leave">
   <signalname>leave</signalname>
   <funcsynopsis>
    <funcprototype>
     <funcdef>void <cbfunction>callback</cbfunction></funcdef>
     <paramdef><classname>GtkButton</classname> button</paramdef>
    </funcprototype>
   </funcsynopsis>
   <shortdesc>
    Emitted when the cursor leaves the button area.
   </shortdesc>
   <desc>
    <simpara>
     The <signalname class="GtkButton">leave</signalname> signal is emitted
     when the cursor leaves the area of the screen where the button is
     positioned.
    </simpara>
   </desc>
  </signal>

 </signals>

</classentry>
