<?xml version="1.0" encoding="ISO-8859-1" ?>
<classentry id="gtk.gtkprogressbar">
 <classmeta>
  <classtitle>GtkProgressBar</classtitle>
  <classparent>GtkProgress</classparent>
  <shortdesc>
   Widget that provides a visual indication of an operation's progress.
  </shortdesc>
  <desc>
   <simpara>
    The purpose of <classname>GtkProgressBar</classname> is to show the
    user the progress of a long-running operation. It can be used in two
    modes: a <literal>percentage</literal> mode or an 
    <literal>activity</literal> mode.
   </simpara>
   <simpara>
    The <literal>percentage</literal> mode should be used when the
    application can in advance determine the total amount of work that
    will be done.  As the operation progresses the application should
    update the bar widget with the amount of work completed so far.  The
    widget will reflect this by displaying a growing percentage bar.
   </simpara>
   <simpara>
    The <literal>activity</literal> mode is useful when the application
    cannot determine the total amount of work and instead simply wishes
    to provide an indication that an operation is in progress. In this
    mode, the widget will display a block moving back and forth in the
    progress area.
   </simpara>
   <simpara>
    See also: <classname>GtkProgress</classname>, 
    <function class="GtkProgress">set_activity_mode</function>.
   </simpara>
  </desc>
 </classmeta>

 <constructor id="gtk.gtkprogressbar.constructor">
  <funcsynopsis>
   <funcprototype>
    <funcdef> <function>GtkProgressBar</function></funcdef>
    <paramdef>
     <classname>GtkAdjustment</classname> 
     <!--
      I took out the 'optional' part because I can't get that to work!! 
      - sf jan 02
     -->
     <parameter>adjustment</parameter>
    </paramdef>
   </funcprototype>
  </funcsynopsis>
  <shortdesc>
   Creates a progress bar widget.
  </shortdesc>
  <desc>
   <simpara>
    When constructing a progress bar, you need to specify an associated 
    <classname>GtkAdjustment</classname> which will be used to configure
    the progress bar's initial value and range.
   </simpara>
   <para>
    <example>
     <title>Setting up a Progress Bar</title>
     <programlisting role="php">
<![CDATA[
<?php

dl('php_gtk.' . (strstr(PHP_OS, 'WIN') ? 'dll' : 'so'));

function update_bar() {
  global $progressbar, $value;
  $progressbar-&gt;set_percentage($value);
  start_update();
  }

function start_update() {
  global $value;
  if($value &lt;= 1.0) {
    $value += 0.01;
    gtk::timeout_add(200, 'update_bar');
    }
  else gtk::timeout_add(50, array('gtk', 'main_quit'));
  }

$window = &amp;new GtkWindow();
$window-&gt;set_uposition(200, 250);
$window-&gt;set_policy(false, false, true);
$window-&gt;connect_object('destroy', array('gtk', 'main_quit'));

/* These adjustment settings are on the wild side for demo purposes */
$adjustment = &amp;new GtkAdjustment(0.5, 100.0, 200.0, 0.0, 0.0, 0.0);
$value = $adjustment-&gt;value;

$progressbar = &amp;new GtkProgressBar($adjustment);
$progressbar-&gt;set_show_text(true);
$progressbar-&gt;set_text_alignment(0.02, 1.0);
$progressbar-&gt;set_format_string(&quot;%v%% complete&quot;);
$progressbar-&gt;set_usize(gdk::screen_width()/2, 30);
$window-&gt;add($progressbar);

$window-&gt;show_all();

start_update();
gtk::main();

?>
]]>
     </programlisting>
    </example>
    To create a progress bar in <literal>activity</literal> mode, delete
    the references to the text string and replace them with
    <literal>$progressbar-&gt;set_activity_mode(true);</literal>
    and any further methods appropriate to an activity indicator.  You will
    also need to replace
    <literal>$progressbar-&gt;set_percentage($value);</literal>
    in the <literal>update_bar()</literal> function with
    <literal>$progressbar-&gt;set_value($value);</literal>
   </para>
   <simpara>
    Note that a progress bar in <literal>activity</literal> mode will not
    be redrawn when the values of the <literal>lower</literal> and 
    <literal>upper</literal> bounds in the attached 
    <classname>GtkAdjustment</classname> have been exceeded.
   </simpara>
  </desc>
 </constructor>

 <methods>

  <method id="gtk.gtkprogressbar.method.set_bar_style">
   <funcsynopsis>
    <funcprototype>
     <funcdef>void <function>set_bar_style</function></funcdef>
     <paramdef>
      <enumname>GtkProgressBarStyle</enumname> 
      <parameter>style</parameter>
     </paramdef>
    </funcprototype>
   </funcsynopsis>
   <shortdesc>
    Sets the progress bar style in percentage mode.
   </shortdesc>
   <desc>
    <simpara>
     The default style of a progress bar upon creation is
     <literal>GTK_PROGRESS_CONTINUOUS</literal>.  This method may be used
     to change it to the style specified in the <parameter>style</parameter> 
     parameter (<literal>GTK_PROGRESS_CONTINUOUS</literal> or 
     <literal>GTK_PROGRESS_DISCRETE</literal>) when the progress bar is in 
     <literal>percentage</literal> mode.
    </simpara>
    <simpara>
     Note that the progress bar will not display text if it is drawn in the
     discrete style.
    </simpara>
    <simpara>
     See also:  
     <function class="GtkProgressBar">set_discrete_blocks</function>.
    </simpara>
   </desc>
  </method>

  <method id="gtk.gtkprogressbar.method.set_discrete_blocks">
   <funcsynopsis>
    <funcprototype>
     <funcdef>void <function>set_discrete_blocks</function></funcdef>
     <paramdef>int <parameter>blocks</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <shortdesc>
    Sets the number of discrete blocks.
   </shortdesc>
   <desc>
    <simpara>
     When the progress bar has discrete style, it is divided into a
     number of blocks. This method can be used to change the number of
     these blocks.
    </simpara>
    <simpara>
     The default value is <literal>10</literal>.
    </simpara>
   </desc>
  </method>

  <method id="gtk.gtkprogressbar.method.set_activity_step">
   <funcsynopsis>
    <funcprototype>
     <funcdef>void <function>set_activity_step</function></funcdef>
     <paramdef>int <parameter>step</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <shortdesc>
    Sets the step value in activity mode.
   </shortdesc>
   <desc>
    <simpara>
     When the progress bar is in the <literal>activity</literal> mode, this
     method can be used to set the step value by which the progress bar will
     be updated on each iteration.  Higher values make the progress indicator
     appear to move faster.
    </simpara>
    <simpara>
     The default value is <literal>3</literal>.
    </simpara>
   </desc>
  </method>

  <method id="gtk.gtkprogressbar.method.set_activity_blocks">
   <funcsynopsis>
    <funcprototype>
     <funcdef>void <function>set_activity_blocks</function></funcdef>
     <paramdef>int <parameter>blocks</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <shortdesc>
    Sets the number of blocks in activity mode.
   </shortdesc>
   <desc>
    <simpara>
     When the progress bar is in <literal>activity</literal> mode, this
     method can be used to set the number of blocks that make up the
     progress bar.  Larger numbers make the progress indicator smaller.
    </simpara>
    <simpara>
     The default value is <literal>5</literal>.
    </simpara>
   </desc>
  </method>

  <method id="gtk.gtkprogressbar.method.set_orientation">
   <funcsynopsis>
    <funcprototype>
     <funcdef>void <function>set_orientation</function></funcdef>
     <paramdef>
      <enumname>GtkProgressBarOrientation</enumname> 
      <parameter>orientation</parameter>
     </paramdef>
    </funcprototype>
   </funcsynopsis>
   <shortdesc>
    Sets the orientation of the bar.
   </shortdesc>
   <desc>
    <simpara>
     This method can be used to change the orientation of the progress
     bar.  The <parameter>orientation</parameter> parameter controls the
     direction in which the progress indicator grows (in 
     <literal>percentage</literal>  mode) or moves (in 
     <literal>activity</literal> mode), as the operation progresses.
    </simpara>
    <simpara>
     The default setting is <literal>GTK_PROGRESS_LEFT_TO_RIGHT</literal>.
    </simpara>
   </desc>
  </method>

  <method id="gtk.gtkprogressbar.method.update">
   <funcsynopsis>
    <funcprototype>
     <funcdef>void <function>update</function></funcdef>
     <paramdef>double <parameter>percentage</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <shortdesc>
    Sets progress update value.    *deprecated*
   </shortdesc>
   <desc>
    <simpara>
     This is a deprecated method that has had its usage replaced by 
     <function class="GtkProgress">set_percentage</function> when a
     progress bar is set to the <literal>percentage</literal> mode, or by 
     <function class="GtkProgress">set_value</function> when using the 
     <literal>activity</literal> mode.
    </simpara>
   </desc>
  </method>

 </methods>

</classentry>
